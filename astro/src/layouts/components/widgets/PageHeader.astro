---
import { humanize } from "@/lib/utils/textConverter";
import Breadcrumbs from "@/layouts/components/widgets/Breadcrumbs.astro";

interface Props {
  title?: string;
  subtitle?: string;
  paddingBottom?: boolean;
  hiddenPaths?: string[];
}

const { title, subtitle, hiddenPaths, paddingBottom = false } = Astro.props;
---

<section class="relative py-4 md:py-8 overflow-hidden">
  <!-- Modern Background Pattern -->
  <div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-secondary/5 to-white">
    <!-- Wave Pattern -->
    <div class="absolute inset-0 opacity-40">
      <svg class="absolute inset-0 w-full h-full" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M0,0 C150,40 350,40 600,20 C850,0 1050,0 1200,20 L1200,120 L0,120 Z" fill="currentColor" class="text-primary/10"/>
      </svg>
      <svg class="absolute inset-0 w-full h-full" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" style="transform: translateY(20px);">
        <path d="M0,20 C200,60 400,60 600,40 C800,20 1000,20 1200,40 L1200,120 L0,120 Z" fill="currentColor" class="text-secondary/10"/>
      </svg>
    </div>

    <!-- Hexagon Pattern -->
    <div class="absolute inset-0 opacity-20">
      <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100">
        <defs>
          <pattern id="hexagons" x="0" y="0" width="20" height="17.32" patternUnits="userSpaceOnUse" patternTransform="scale(0.5)">
            <polygon points="10,0 20,5 20,15 10,20 0,15 0,5" fill="none" stroke="currentColor" stroke-width="0.5" class="text-primary/30"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#hexagons)"/>
      </svg>
    </div>
    
    <!-- Soft Gradient Orbs -->
    <div class="absolute -top-10 -right-10 w-64 h-64 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl"></div>
    <div class="absolute -bottom-10 -left-10 w-64 h-64 bg-gradient-to-tr from-secondary/10 to-transparent rounded-full blur-3xl"></div>
  </div>

  <div
    class:list={[
      "relative container flex flex-col items-center justify-center gap-y-5 text-center z-20",
      { "pb-8 md:pb-16": paddingBottom },
    ]}>
    {
      title && (
        <h1 data-aos="fade-up-sm" class="text-h2">
          {humanize(title)}
        </h1>
      )
    }
    {
      subtitle && (
        <p data-aos="fade-up-sm" data-aos-delay="100" class="text-muted max-w-2xl">
          {subtitle}
        </p>
      )
    }
    <Breadcrumbs
      data-aos="fade-up-sm"
      data-aos-delay="200"
      hiddenPaths={hiddenPaths}
      class="border bg-white/80 backdrop-blur-sm px-6 py-2.5 sm:rounded-full shadow-lg"
    />
  </div>
</section>
