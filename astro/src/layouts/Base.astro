---
import "aos/dist/aos.css";
import "@/styles/global.css";
import Head from "@/components/global/Head.astro";
import Footer from "@/components/global/Footer.astro";
import Header from "@/components/global/header/Header.astro";
import type { JSONLDProps } from "@/lib/utils/JsonLdGenerator";
import GlobalScripts from "./components/widgets/GlobalScripts.astro";

import config from ".astro/config.generated.json" with { type: "json" };
import PageLoader from "./components/utilities/PageLoader.astro";

type Props = JSONLDProps & {
  className?: string;
  fitToScreen?: boolean;
  draft?: boolean;
  metaTitle?: string;
  metaDescription?: string;
  robots?: string;
  excludeFromSitemap?: boolean;
  customSlug?: string;
  canonical?: string;
  status?: number;
  keywords?: string[]; // Array of strings
  disableTagline?: boolean;
  structuredData?: Props;
};

// destructure frontmatter
let { sectionSpacing = "lg", structuredData } = Astro.props;

// Section spacing class
const sectionSpacingClass =
  sectionSpacing === "md" ? "has-section-spacing-md" :
  sectionSpacing === "none" ? "has-section-spacing-none" : "has-section-spacing-lg";
---

<!doctype html>
<html lang={config.settings.multilingual.defaultLanguage || "en"}>
  <Head {...Astro.props} structuredData={structuredData} />
  <body>
    {!Astro.props.homepage && <PageLoader />}
    <Header {...Astro.props} />
    <main class:list={[sectionSpacingClass, Astro.props.class]}>
      <slot />
    </main>
    <Footer />

    <GlobalScripts />

    <style is:global>
      /* Modern Global Scrollbar - Astro Layout Override */
      html,
      body {
        scrollbar-width: thin;
        scrollbar-color: #6B7280 #F9FAFB;
      }

      html::-webkit-scrollbar,
      body::-webkit-scrollbar {
        width: 40px !important;
        height: 40px !important;
        display: block !important;
        visibility: visible !important;
      }

      html::-webkit-scrollbar-track,
      body::-webkit-scrollbar-track {
        background: #F9FAFB !important;
        border: none !important;
      }

      html::-webkit-scrollbar-thumb,
      body::-webkit-scrollbar-thumb {
        background: #6B7280 !important;
        border: none !important;
        border-radius: 0 !important;
      }

      html::-webkit-scrollbar-thumb:hover,
      body::-webkit-scrollbar-thumb:hover {
        background: #4B5563 !important;
      }

      html::-webkit-scrollbar-corner,
      body::-webkit-scrollbar-corner {
        background: #F9FAFB !important;
        border-radius: 0 !important;
      }
    </style>

  </body>
</html>
