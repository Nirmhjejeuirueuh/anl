---
interface Props {
  programs: any[];
  currentSlug?: string;
  basePath: string;
  label: string;
  lang?: string;
}

const { programs, currentSlug, basePath, label, lang } = Astro.props;
---

<section class="py-8 bg-theme-light border-y border-gray-100">
  <div class="container">
    <div class="flex items-center gap-4 overflow-x-auto scrollbar-hide pb-2">
      <span class="text-sm font-semibold text-gray-600 whitespace-nowrap mr-2">{label}:</span>
      {programs && programs.map((program: any, index: number) => {
        const isActive = currentSlug === program.slug;
        // If program has a URL field, use it directly, otherwise construct slug-based URL
        const href = program.URL 
          ? program.URL 
          : (lang ? `/${lang}${basePath}/${program.slug}` : `${basePath}/${program.slug}`);
        return (
          <a
            href={href}
            class={`inline-flex items-center px-4 py-2 font-medium rounded-full transition-colors whitespace-nowrap cursor-pointer ${
              isActive
                ? 'bg-primary text-white border border-primary shadow-md'
                : 'bg-primary/5 hover:bg-primary/10 text-primary border border-primary/20 hover:border-primary/40'
            }`}
            data-aos="fade-up-sm"
            data-aos-delay={index * 50}
            target={program.URL ? "_blank" : "_self"}
            rel={program.URL ? "noopener noreferrer" : undefined}
          >
            {program.title}
            <svg class="ml-2 w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
        );
      })}
    </div>
  </div>
</section>